<img src="/data/icons/io.github.helpseeker.Gyre.svg" align="left">

# Gyre

A downloader for videos (called coubs) from [Coub](https://coub.com).

![](/data/screenshots/desktop_light.png)

## What you can download

* Single coubs
* Stories
* Channels
* Tags
* Search results
* Communities (incl. Featured and Coub of the Day)
* Hot coubs
* Random coubs

## Installation

There are several ways to install Gyre.

### Flathub

<a href='https://flathub.org/apps/details/io.github.helpseeker.Gyre'><img width='240' alt='Download on Flathub' src='https://flathub.org/assets/badges/flathub-badge-en.png'/></a>

### Build with GNOME Builder

First clone this repository with GNOME Builder. Then hit the play button and it will automatically install and compile all dependencies for you. Afterwards you can export a Flatpak bundle to install Gyre on your machine.

### Build with Meson

The following commands will clone this repository and install Gyre (system-wide by default). Please note that there's currently no automatic way to uninstall the program. You can run `ninja uninstall` within the build directory, but some files won't be removed, because they were generated by external commands (e.g. glib-compile-schemas). These files have to be deleted manually.

```
git clone https://github.com/HelpSeeker/Gyre.git
cd Gyre
meson . _build
meson configure -Dprefix=<custom location>  # optional step
cd _build
ninja install
```

The 4th step is optional and allows you to specify a custom install location. Depending on the location GLib might not be able to find the GSettings schema, which is required to run Gyre. If that is the case, you have to manually point it to the schema

```
GSETTINGS_SCHEMA_DIR=<custom location>/share/glib-2.0/schemas <custom path>/bin/gyre
```

## Dependencies

* meson >= 0.50
* GTK >= 3.24
* libhandy >= 1.0.0
* Python >= 3.7
* aiohttp
* FFmpeg

## Troubleshooting

#### (Flatpak only) Gyre prompts me for a new output location every time I load a profile, even though the directory exists.

Most likely you deleted the directory at one point and created a new one with the same name. With normal file system access this wouldn't be a problem, but the Flatpak version requests access via XDG Portal and in that case the new directory is different from the old one, even if they share the same name.

Choose the directory when prompted and export the profile again to update the output location to the new version.

#### (Flatpak only) Gyre is unable to open its error log.

Gyre tries to open the log with the default text editor. That doesn't work when running inside the Flatpak sandbox, so the error log will always be displayed by the internal viewer.

#### (Flatpak only) Dialogs exceed the boundaries of my phone display.

Gyre is mobile-ready thanks to libhandy, but there are issues with GTK 3, which require [additional patches](https://gitlab.gnome.org/GNOME/gtk/-/issues/3411) to make it work correctly on mobile. Mobile distros apply these patches, but they don't affect Flatpaks. I'm still looking for a solution to this problem (maybe an additional Flatpak with the patches applied?), but until then you are better off running Gyre locally.
